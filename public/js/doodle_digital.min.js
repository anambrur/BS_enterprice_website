if("undefined"==typeof jQuery)throw new Error("This Management System JavaScript needs jQuery JS file.");function emailValidate(e){return!!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function credit_card(e,t){var a=e.replace(/-/g,"");a=a.replace(/ /g,"");var n=/^[0-9]{16}$/;if("visa"==t)n=/^[4]{1}[0-9]{15}$/;else if("mastercard"==t){n=/^[5]{1}[0-9]{15}$/;var r=/^[2]{1}[0-9]{15}$/}return!!n.test(a)||!("visa"==t||!r.test(a))}function formatString(e){String.fromCharCode(event.keyCode);var t=event.keyCode;-1===[8].indexOf(t)&&(event.target.value=event.target.value.replace(/^([1-9]\/|[2-9])$/g,"0$1/").replace(/^(0[1-9]|1[0-2])$/g,"$1/").replace(/^([0-1])([3-9])$/g,"0$1/$2").replace(/^(0?[1-9]|1[0-2])([0-9]{2})$/g,"$1/$2").replace(/^([0]+)\/|[0]+$/g,"0").replace(/[^\d\/]|^[\/]*$/g,"").replace(/\/\//g,"/"))}function cardValidationCheck(e){var t=parseInt($(".payment_type:checked").val());if(2===t||3===t){var a=$("#card-number").val(),n=$("#card-number").parent("div").siblings(".error-notice");2===t?credit_card(a,"mastercard")?n.text(""):(n.text("Invalid Master Card!"),e++):3===t&&(credit_card(a,"visa")?n.text(""):(n.text("Invalid Credit Card!"),e++))}return e}function cvv2ValidationCheck(e){var t=$("#cvv2").val().length,a=$("#cvv2").parent("div").siblings(".error-notice");return t>2&&t<5?a.text(""):(a.text("Invalid CVV2"),e++),e}function cardExpireValidationCheck(e){var t=$("#card_expire").val(),a=$("#card_expire").parent("div").siblings(".error-notice");return datemonthValiate(t)?a.text(""):(a.text("Invalid Year and Month"),e++),e}function datemonthValiate(e){return!!/^[0-9]{2}\/[0-9]{4}$/.test(e)}function lenValidation(e,t,a){var n=$("#"+e).val().length,r=$("#"+e).siblings(".error-notice");return n>t?r.text(""):(r.text("This filed is required."),a++),a}String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)};var domainExtension=[".aero",".biz",".cat",".com",".coop",".edu",".gov",".info",".int",".jobs",".mil",".mobi",".museum",".name",".net",".org",".travel",".co",".club",".design",".shop",".site",".online",".me",".adult",".art",".asia",".computer",".technology",".tech",".ac",".ad",".ae",".af",".ag",".ai",".al",".am",".an",".ao",".aq",".ar",".as",".at",".au",".aw",".az",".ba",".bb",".bd",".be",".bf",".bg",".bh",".bi",".bj",".bm",".bn",".bo",".br",".bs",".bt",".bv",".bw",".by",".bz",".ca",".cc",".cd",".cf",".cg",".ch",".ci",".ck",".cl",".cm",".cn",".co",".cr",".cs",".cu",".cv",".cx",".cy",".cz",".de",".dj",".dk",".dm",".do",".dz",".ec",".ee",".eg",".eh",".er",".es",".et",".eu",".fi",".fj",".fk",".fm",".fo",".fr",".ga",".gb",".gd",".ge",".gf",".gg",".gh",".gi",".gl",".gm",".gn",".gp",".gq",".gr",".gs",".gt",".gu",".gw",".gy",".hk",".hm",".hn",".hr",".ht",".hu",".id",".ie",".il",".im",".in",".io",".iq",".ir",".is",".it",".je",".jm",".jo",".jp",".ke",".kg",".kh",".ki",".km",".kn",".kp",".kr",".kw",".ky",".kz",".la",".lb",".lc",".li",".lk",".lr",".ls",".lt",".lu",".lv",".ly",".ma",".mc",".md",".mg",".mh",".mk",".ml",".mm",".mn",".mo",".mp",".mq",".mr",".ms",".mt",".mu",".mv",".mw",".mx",".my",".mz",".na",".nc",".ne",".nf",".ng",".ni",".nl",".no",".np",".nr",".nu",".nz",".om",".pa",".pe",".pf",".pg",".ph",".pk",".pl",".pm",".pn",".pr",".ps",".pt",".pw",".py",".qa",".re",".ro",".ru",".rw",".sa",".sb",".sc",".sd",".se",".sg",".sh",".si",".sj",".sk",".sl",".sm",".sn",".so",".sr",".st",".su",".sv",".sy",".sz",".tc",".td",".tf",".tg",".th",".tj",".tk",".tm",".tn",".to",".tp",".tr",".tt",".tv",".tw",".tz",".ua",".ug",".uk",".um",".us",".uy",".uz",".va",".vc",".ve",".vg",".vi",".vn",".vu",".wf",".ws",".ye",".yt",".yu",".za",".zm",".zr",".zw"];function removeLastCharacter(e,t){var a=e.substr(0,e.length-1);return t.val(a),a}function atozValidate(e){return!!/^[a-zA-Z]*$/.test(e)}var validEmailExtension="",validEmailExtension2="";function validateCustomEmail(e,t,a){var n=0,r="";if(a>0){if(/^([a-zA-Z0-9_\.\-])/.test(t)){var s=t.split("@");if(2==s.length){var i=s[1].split("."),o=i[0].length,l=/^[a-zA-Z0-9.-]*$/;if(s[1]&&!l.test(s[1]))removeLastCharacter(t,e);else if(o<21)if(i[1]){var c="."+i[1];if(atozValidate(i[1])||(removeLastCharacter(t,e),c=c.substr(0,c.length-1)),jQuery.inArray(c,domainExtension)>-1)if(validEmailExtension=c,i.length>2){var m="."+i[2];if(atozValidate(i[2])||(removeLastCharacter(t,e),m=m.substr(0,m.length-1)),c!==m&&jQuery.inArray(m,domainExtension)>-1)validEmailExtension2=m,(l=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z\-]{2,10})+\.)+([a-zA-Z0-9]{2,10})$/).test(t)?removeError(e):(n++,r="Email Invalid!");else m.length>2?e.val(s[0]+"@"+i[0]+validEmailExtension+validEmailExtension2):(n++,r="Email Invalid!")}else{(l=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z\-]{2,10})+\.)+([a-zA-Z0-9]{2,10})$/).test(t)?removeError(e):(n++,r="Email Invalid!")}else i[2]&&e.val(s[0]+"@"+i[0]+"."+i[1]),c.length>11?e.val(s[0]+"@"+i[0]+validEmailExtension):(n++,r="Invalid Email, We don't take this extension.")}else n++,r="Email Invalid!";else n++,o>20&&e.val(s[0]+"@"+i[0].substr(0,20)),r="Domain name must be less then 21 characters!"}else removeLastCharacter(t=t.replace(/\s/g,""),e),s.length>2?e.val(s[0]+"@"+s[1]):e.val(s[0].substr(0,20)),n++,r="Email Invalid!"}else removeLastCharacter(t,e),n++,r="Email Invalid!"}return{error:n,message:r}}function removeCharactersIfNotMatch(e,t){var a="";for(var n in e){var r=e[n];jQuery.inArray(r,t)>-1&&(a+=r)}return a}var validUrlExtension="",validUrlExtension2="";function validateCustomUrl(e,t,a){var n=0,r="";if(a>0){var s=t.split("/");if(3!==s.length||"http:"!==s[0]&&"https:"!==s[0])t=removeCharactersIfNotMatch(t,["h","t","p","s",":","/"]),e.val(t),n++,r="URL Invalid!";else{var i=s[2];/^[a-zA-Z0-9.-]*$/.test(i)||(removeLastCharacter(t,e),i=i.substr(0,i.length-1));var o=i.split("."),l=o.length;if(o[0].length>20)removeLastCharacter(t,e),n++,r="Domain Name Length must be less then 20 characters!";else if("www"===o[0].toLowerCase()&&o.splice(0,1),(l=o.length)>0)if(o[0].length<21)if(o[1]){var c="."+o[1];if(atozValidate(o[1])||(removeLastCharacter(t,e),c=c.substr(0,c.length-1)),jQuery.inArray(c,domainExtension)>-1)if(validUrlExtension=c,l>2){var m="."+o[2];atozValidate(o[2])||(removeLastCharacter(t,e),m=m.substr(0,m.length-1)),c!==m&&jQuery.inArray(m,domainExtension)>-1?(validUrlExtension2=m,isUrlValid(t)?removeError(e):(n++,r="URL Invalid!")):m.length>2?e.val(s[0]+"//"+o[0]+validUrlExtension+validUrlExtension2):(n++,r="URL Invalid!")}else isUrlValid(t)?removeError(e):(n++,r="URL Invalid!");else o[2]&&e.val(s[0]+"//"+o[0]+"."+o[1]),c.length>11?e.val(s[0]+"//"+o[0]+validUrlExtension):(n++,r="URL Email, We don't take this extension.")}else n++,r="URL Invalid!";else n++,removeLastCharacter(t,e),r="Domain name must be less then 21 characters!";else n++,r="URL Invalid!"}}return{error:n,message:r}}function isCustomerLoggedIn(e){var t=0;return $.ajax({type:"get",url:url+"is-customer-logged-in",data:e,async:!1,success:function(e){t=parseInt(e)}}),t}!function(e){"use strict";function t(){e("#searchbtn").html('<i class="fa fa-refresh fa-spin"></i>');var t=e("#search_type").val(),a=e("#search_text").val(),n=e("#table_csrf_token").val();a.length>0&&t.length>0?e.ajax({url:url+"search",type:"post",data:{search_type:t,search_text:a,_token:n},success:function(t){e(".search-list-wrap").html(t),e("#searchbtn").html('<i class="fa fa-search"></i>')},error:function(t){var a=t.responseJSON.errors;console.log(a),e("#searchbtn").html('<i class="fa fa-search"></i>')}}):(e("#searchbtn").html('<i class="fa fa-search"></i>'),e(".search-list-wrap").html(""))}function a(t){var a,n=t.data("parent"),r=0;e("#"+n+" .packageInfo").each(function(){a=e(this).data("iteration");var t=e(this).data("row"),s=parseInt(e(this).data("words"));s=isNaN(s)?100:s;var i=e("#"+n).find(".package_qty_"+a+"_"+t).val();i.length<=0&&(i=0);var o=parseInt(i),l=e("#"+n).find(".package_words_"+a+"_"+t).val();l.length<=0&&(l=0);var c=parseInt(l),m=c*o;e("#"+n).find(".total_words_"+a+"_"+t).text(m);var u=c/s*o*parseFloat(e(this).data("price"));e("#"+n).find(".cb_"+a+"_"+t).is(":checked")?(e("#"+n).find(".total_"+a+"_"+t).text(u.toFixed(2)),r+=u):e("#"+n).find(".total_"+a+"_"+t).text("0")}),e("#"+n).find(".total_price_"+a).text(r.toFixed(2))}if(e(".main-menu").find("."+method).addClass("active"),e(".close-icon").length>0&&e(".close-icon").on("click",function(){e(this).parent(".successful-popup").parent(".successful-popup-wrap").fadeOut()}),e("#main_search").length>0&&(e("#search_text").on("keyup",function(){t()}),e("#search_text").on("change",function(){t()}),e("#search_type").on("change",function(){t()})),e(".cb_detail_price").length>0&&e(".cb_detail_price").on("change",function(){a(e(this))}),e(".package_qty").length>0&&(e(".package_qty").on("keyup",function(){a(e(this))}),e(".package_qty").on("change",function(){a(e(this))})),e(".package_words").length>0&&(e(".package_words").on("keyup",function(){a(e(this))}),e(".package_words").on("change",function(){a(e(this))})),e(".package_order_submit").length>0&&e(".package_order_submit").on("click",function(){var t=e(this),a=(parseInt(t.data("type")),t.data("form")),n=t.attr("href");if(!n){var r=(a=e("#"+a)).serialize();n=a.attr("action")+"?"+r}if(0==isCustomerLoggedIn({href:n}))return e("#guestForm").fadeIn(),!1}),e(".guestLogin").on("click",function(){var t=e("#table_csrf_token").val();return e.ajax({type:"post",url:url+"/guest-login",data:{_token:t},success:function(e){""!=e&&(window.location.href=e)}}),!1}),e(".single-payment").length>0&&e(".single-payment").on("click","label",function(){var t=parseInt(e(this).siblings(".payment_type").val());2===t||3===t?e(".master_and_visa").slideDown():e(".master_and_visa").slideUp()}),e(".smAuthForm").on("submit",function(){var t=e(this),a=t.attr("id"),n=t.serialize(),r=t.attr("action"),s=t.attr("method");return t.find("span.error-notice").text(""),e.ajax({type:s,url:r,data:n,success:function(n){if("forgotPassword"==a)t.find("span.success-notice").text(n.status);else if(void 0!=n.username){var r='<li><a href="'+url+'/dashboard" class="profile-img">'+n.username+'</a></li>\n<li><a href="'+url+'/logout"><i class="fa fa-sign-in"></i>Logout</a></li><li><a class="searchIcon" href="#"><img src="'+url+'images/search.png" alt="search"></a></li>';e("#auth_ul").html(r),e(".smAuthHide").fadeOut()}},error:function(e){var a=e.responseJSON;console.log(a);for(var n in a){var r=t.find('[name="'+n+'"]').siblings("span.error-notice");Array.isArray(a[n])?r.text(a[n][0]):r.text(a[n])}}}),!1}),e("#orderForm").length>0&&(e(".applybtn").on("click",function(){var t=e("#copon-code").val(),a=e("#table_csrf_token").val();return t.length>0&&e.ajax({type:"post",url:url+"checkout/coupon-check",data:{_token:a,couponCode:t},success:function(t){if(e("#copon-code").siblings(".error-notice").text(""),1==t.isSuccess){var a=parseFloat(e("#sub_total").text()),n=parseFloat(e("#tax").text()),r=a;if(1==t.type)r-=parseFloat(t.discount),e("#coupon_amount").text(t.discount);else{var s=parseFloat(t.discount);s=r*s/100,e("#coupon_amount").text(s),r-=s}r+=n,e("#total_checkout").text(r),e("#coupon_code").text(t.coupon_code),e("#copon-code").siblings(".success-notice").text(t.message),e("#coupon_row").slideDown()}else e("#copon-code").siblings(".error-notice").text(t.message)},error:function(t){e("#copon-code").siblings(".success-notice").text(""),e("#copon-code").siblings(".error-notice").text(t.responseJSON.message)}}),!1}),e("#country").on("change",function(){var t=e(this),a=e("#table_csrf_token").val(),n=t.val(),r=parseInt(e("#tax").data("is_tax_enable")),s=parseFloat(e("#coupon_amount").text()),i=parseFloat(e("#sub_total").text());1===r&&n.length>0&&e.ajax({type:"post",url:url+"checkout/calculate-tax",data:{country:n,_token:a},success:function(t){if(1==t.isSuccess){var a=parseFloat(t.tax);2==t.tax_type&&(a=a*i/100),i-=s,i+=a,e("#tax").text(a),e("#total_checkout").text(i)}},error:function(e){console.log(e)}})}),e("#card-number").on("keyup",function(){cardValidationCheck(0)}),e("#card-number").on("change",function(){cardValidationCheck(0)}),e("#cvv2").on("keyup",function(){cvv2ValidationCheck(0)}),e("#cvv2").on("change",function(){cvv2ValidationCheck(0)}),e("#orderForm").on("submit",function(){var t=0,a=parseInt(e(".payment_type:checked").val());if(2!==a&&3!==a||(t=cardExpireValidationCheck(t=cvv2ValidationCheck(t=cardValidationCheck(t)))),emailValidate(e("#contact_email").val())?e("#contact_email").siblings(".error-notice").text(""):(t++,e("#contact_email").siblings(".error-notice").text("Email must be valid")),lenValidation("firstname",0,t),lenValidation("lastname",0,t),lenValidation("street",0,t),lenValidation("city",0,t),lenValidation("zip",0,t),lenValidation("country",0,t),lenValidation("state",0,t),e("#agree").is(":checked")?e("#agree").siblings(".error-notice").text(""):(e("#agree").siblings(".error-notice").text("You must check terms and condition and Services Agreement ."),t++),0!==t)return!1})),e("#newsletterForm").length>0&&e("#newsletterForm").on("submit",function(){e("#newsletterFormSubmit").html('<i class="fa fa-refresh fa-spin"></i> Submit');if(smValidator("newsletterForm",{email:{notEmpty:{message:"The email field is Required!"},email:{message:"The email address is invalid!"}}},2)){var t=e(this).serialize(),a=e(this).attr("action");e.ajax({type:"post",url:a,data:t,success:function(t){e("#newsletterFormSubmit").html("Submit"),e("#newsletterPopUp .popup_message").html(t),e("#newsletterPopUp").fadeIn()},error:function(t){e("#newsletterFormSubmit").html("Submit")}})}else e("#newsletterFormSubmit").html("Submit");return!1}),e("#newsletterPopUpForm").length>0&&e("#newsletterPopUpForm").on("submit",function(){e("#newsletterPopUpFormSubmit").html('<i class="fa fa-refresh fa-spin"></i> Submit');if(smValidator("newsletterPopUpForm",{email:{notEmpty:{message:"The email field is Required!"},email:{message:"The email address is invalid!"}}},2)){var t=e(this).serialize(),a=e(this).attr("action");e.ajax({type:"post",url:a,data:t,success:function(t){e(".newslatter-popup-item").fadeOut(),e("#newsletterPopUpFormSubmit").html("Submit"),e("#newsletterPopUp .popup_message").html(t),e("#newsletterPopUp").fadeIn()},error:function(t){e("#newsletterPopUpFormSubmit").html("Submit")}})}else e("#newsletterPopUpFormSubmit").html("Submit");return!1}),e(".subscriptionClosedForADay").length>0&&e(".subscriptionClosedForADay").on("click",function(){e.ajax({type:"get",url:url+"/subscription-close-for-a-day",success:function(e){},error:function(e){}})}),e(".offerClosedForADay").length>0&&e(".offerClosedForADay").on("click",function(){e.ajax({type:"get",url:url+"/offer-close-for-a-day",success:function(e){},error:function(e){}})}),e("#profile_picture_form").length>0&&e("#profile_picture_form").on("change",function(){return e(".change-profile-pic i").removeClass("fa-camera"),e(".change-profile-pic i").addClass("fa-refresh fa-spin"),e.ajax({type:"post",url:e(this).attr("action"),data:new FormData(this),contentType:!1,cache:!1,processData:!1,success:function(t){e("#profile_picture_img").attr("src",t.src),e(".change-profile-pic i").removeClass("fa-refresh fa-spin"),e(".change-profile-pic i").addClass("fa-camera")},error:function(e){console.log(e)}}),!1}),e("#commentForm").length>0){e(".blog-comments-area").on("click",".replay",function(){var t=e(this).data("comment");e("#parent_comment_id").val(t),document.getElementById("leaveAComment").scrollIntoView({block:"start",behavior:"smooth"})});var n=0;e("#comments").on("keyup",function(){e("#commentErrors").html("");var t=e(this).val(),a=t.length;0==n&&0==(n=isCustomerLoggedIn({}))&&(e(".login-form-wraper").hasClass("active")||(e(".login-form-wraper").addClass("active"),e(".login-form-wraper").fadeIn()));var r=500-a,s="Left "+r+" "+(r>1?"Characters":"Character");e("#commentLeft").text(s),a<10||a>500?a>500?e(this).val(t.substr(0,500)):(e("#commentSubmit").prop("disabled",!0),e("#commentValidity").fadeIn(),e("#commentLeft").removeClass("color-green"),e("#commentLeft").hasClass("help-block")||e("#commentLeft").addClass("help-block")):(e("#commentValidity").fadeOut(),e("#commentLeft").removeClass("help-block"),e("#commentSubmit").removeAttr("disabled"),e("#commentLeft").hasClass("color-green")||e("#commentLeft").addClass("color-green"))}),e("#commentForm").on("submit",function(){return e("#commentErrors").html(""),1==(n=isCustomerLoggedIn({}))?e.ajax({type:"post",url:e(this).attr("action"),data:e(this).serialize(),success:function(t){e("#comments").val(""),e("#parent_comment_id").val("0"),e("#newsletterPopUp .popup_title").html("Success"),e("#newsletterPopUp .popup_message").html(t),e("#newsletterPopUp").fadeIn()},error:function(t){var a='<div class="alert alert-danger">',n=t.responseJSON.errors.comments;for(var r in n)a+=n[r];a+="</div>",e("#commentErrors").html(a)}}):e(".loginFormShow").click(),!1})}if(e("#contactMail").length>0){var r={fullname:{notEmpty:{message:"The name field is Required!"},stringLength:{min:3,max:40,message:"Name must be between 3 to 40 characters."}},email:{notEmpty:{message:"The email field is Required!"},custom:{callback:validateCustomEmail}},website:{custom:{callback:validateCustomUrl}},mobile:{notEmpty:{message:"The mobile field is Required!"},mobile:{message:"Mobile no is Invalid!"}},message:{notEmpty:{message:"The message field is Required!"},stringLength:{min:5,max:500,message:"Message must be between 5 to 500 characters."}},recaptcha:{reCaptcha:{message:"Please select recaptcha!"}}};smValidator("contactMail",r,3,function(t){t.isSuccess&&(e("#newsletterPopUp .popup_title").html("Success"),e("#newsletterPopUp .popup_message").html(t.response),e("#newsletterPopUp").fadeIn())})}if(e("#serviceMail").length>0){r={full_name:{notEmpty:{message:"The name field is Required!"},stringLength:{min:2,message:"Name must be minimum 2 characters."}},email:{notEmpty:{message:"The email field is Required!"},custom:{callback:validateCustomEmail}},phone:{notEmpty:{message:"The mobile field is Required!"},mobile:{message:"Mobile no is Invalid!"}},recaptcha:{reCaptcha:{message:"Please select recaptcha!"}}};smValidator("serviceMail",r,3,function(t){t.is_success&&(e("#newsletterPopUp .popup_title").html("Success"),e("#newsletterPopUp .popup_message").html(t.message),e("#newsletterPopUp").fadeIn())})}e(".loadMoreComments").length>0&&e(".blog-comments-area").on("click",".loadMoreComments",function(){var t=e(this),a=t.attr("id"),n=t.data("loaded"),r=t.data("last"),s=parseInt(t.data("count")),i=t.html();return t.html('<i class="fa fa-spinner fa-spin"></i> Loading...'),e.ajax({type:"get",url:t.data("url")+"/"+r,success:function(r){n+=parseInt(r.commnetsCount),t.data("last",r.last),t.data("loaded",n),s<=n&&e("#"+a).fadeOut(),t.parent(".ab-pagination-list").siblings(".comment-placeholder").append(r.html),t.html(i)},error:function(e){}}),!1}),e("#sm_list").length>0&&e("#sm_list").on("click",".pagination-blog a",function(){e(this).html('<i class="fa fa-refresh fa-spin"></i>');var t=e(this).attr("href");return e.ajax({type:"get",url:t,success:function(t){e("#sm_list").html(t);var a=e("#sm_list").offset().top-100;e("html, body").animate({scrollTop:a},"slow")},error:function(e){console.log("AJAX Error")}}),!1})}(jQuery);